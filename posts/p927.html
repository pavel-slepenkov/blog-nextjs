<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><link rel="preload" href="https://unpkg.com/prismjs@0.0.1/themes/prism-tomorrow.css" as="script"/><link rel="preload" href="https://unpkg.com/prismjs@0.0.1/themes/prism-coy.css" as="script"/><link rel="preload" href="https://unpkg.com/prismjs@0.0.1/themes/prism-okaidia.css" as="script"/><link rel="preload" href="https://unpkg.com/prismjs@0.0.1/themes/prism-funky.css" as="script"/><link href="https://unpkg.com/prismjs@0.0.1/themes/prism-okaidia.css" rel="stylesheet"/><meta name="description" content="Pavel Slepenkov - developer"/><meta property="og:image" content="https://og-image.now.sh/Pavel%20Slepenkov%20personal%20blog.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fhyper-color-logo.svg&amp;widths=auto"/><meta name="og:title" content="Pavel Slepenkov personal blog"/><meta name="twitter:card" content="summary_large_image"/><title>Multi-Currency on Visualforce pages</title><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/d9f62f5770aa60bc54db.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d9f62f5770aa60bc54db.css" data-n-g=""/><link rel="preload" href="/_next/static/css/7b989d401051c7c1fc1a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7b989d401051c7c1fc1a.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-a7c970f167496c3f3d8f.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.2113c6061a2f456066a1.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.0cd3f0b406132b99fef1.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-63f54fbe8fbe4d14dff9.js" as="script"/><link rel="preload" href="/_next/static/chunks/7989c093b81d86ddb0abfb342d5bc2e84730435d.c6af214380aa78d8cb3e.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bid%5D-4c37b983192d656c52ce.js" as="script"/></head><body><div id="__next"><div class="layout_container__2t4v2"><header class="layout_header__2rhWq"><a href="/"><img src="/images/sh.jpg" class="layout_headerImage__2h5On utils_borderCircle__13qdJ" alt="Pavel Slepenkov"/></a><h2 class="utils_headingLg__de7p0"><a class="utils_colorInherit__3Gudf" href="/">Pavel Slepenkov</a></h2></header><main><article><h1 class="utils_headingXl__1XecN">Multi-Currency on Visualforce pages</h1><div class="utils_lightText__12Ckm"><time dateTime="2018-11-13T16:25:33+00:00">November 13, 2018</time></div><div><p>Currency formatting is very common task when you need to bring financial data to the UI. Salesforce has Currency data type and it’s a best choice to store financial data. But when you need to display it on UI it might be tricky. So, my initial setup for this post as follow: I have a quote with quote line items related to it and I need to generate PDF with all that data formatted. <figure class="wp-block-image"><img src="https://www.pavelslepenkov.info/wp-content/uploads/2018/11/Screen-Shot-2018-11-08-at-1.10.17-PM.png" alt=""></figure>Basically you can use the following code [html] &#x3C;apex:outputText value="{0, number, Currency}"> &#x3C;apex:param value="{!qli.TotalPrice}" /> &#x3C;/apex:outputText> [/html] This code will be working just fine until you need to display currency which differs from your organization default currency. For my case it was EURO. When I used above code PDF looks like that <figure class="wp-block-image"><img src="https://www.pavelslepenkov.info/wp-content/uploads/2018/11/Screen-Shot-2018-11-08-at-1.17.24-PM-1024x462.png" alt=""><figcaption>hmmm, where’s my euros?</figcaption></figure>The next thing you can try is to set display format explicitly [html] &#x3C;apex:outputText value="{!'{0, number, ‘###,###,###.00′}’}"> &#x3C;apex:param value="{!qli.TotalPrice}"> &#x3C;/apex:outputText> [/html] It will print currency in correct format but without currency symbol at all. Finally in order to have correct format you have to add currency symbol to your formatting expression. You could do it in this way [html] &#x3C;apex:outputText value="{!'{0, number,’ + quote.CurrencySymbol + ‘###,###,##0.00}’}"> &#x3C;apex:param value="{!qli.TotalPrice}" /> &#x3C;/apex:outputText> [/html] Or like that [html] &#x3C;apex:outputText value="{!quote.CurrencySymbol + ‘{0,number, ###,###,###.00}’}"> &#x3C;apex:param value="{!qli.TotalPrice}" /> &#x3C;/apex:outputText> [/html] and result will be following with correct currency symbol which you have to define via apex controller <a href="https://www.pavelslepenkov.info/wp-content/uploads/2018/11/Screen-Shot-2018-11-13-at-4.24.25-PM.png"><img src="https://www.pavelslepenkov.info/wp-content/uploads/2018/11/Screen-Shot-2018-11-13-at-4.24.25-PM-1024x462.png" alt=""></a></p>
</div></article></main><div class="layout_backToHome__1vZsp"><a href="/">← Back to home</a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"p927","contentHtml":"\u003cp\u003eCurrency formatting is very common task when you need to bring financial data to the UI. Salesforce has Currency data type and it’s a best choice to store financial data. But when you need to display it on UI it might be tricky. So, my initial setup for this post as follow: I have a quote with quote line items related to it and I need to generate PDF with all that data formatted. \u003cfigure class=\"wp-block-image\"\u003e\u003cimg src=\"https://www.pavelslepenkov.info/wp-content/uploads/2018/11/Screen-Shot-2018-11-08-at-1.10.17-PM.png\" alt=\"\"\u003e\u003c/figure\u003eBasically you can use the following code [html] \u0026#x3C;apex:outputText value=\"{0, number, Currency}\"\u003e \u0026#x3C;apex:param value=\"{!qli.TotalPrice}\" /\u003e \u0026#x3C;/apex:outputText\u003e [/html] This code will be working just fine until you need to display currency which differs from your organization default currency. For my case it was EURO. When I used above code PDF looks like that \u003cfigure class=\"wp-block-image\"\u003e\u003cimg src=\"https://www.pavelslepenkov.info/wp-content/uploads/2018/11/Screen-Shot-2018-11-08-at-1.17.24-PM-1024x462.png\" alt=\"\"\u003e\u003cfigcaption\u003ehmmm, where’s my euros?\u003c/figcaption\u003e\u003c/figure\u003eThe next thing you can try is to set display format explicitly [html] \u0026#x3C;apex:outputText value=\"{!'{0, number, ‘###,###,###.00′}’}\"\u003e \u0026#x3C;apex:param value=\"{!qli.TotalPrice}\"\u003e \u0026#x3C;/apex:outputText\u003e [/html] It will print currency in correct format but without currency symbol at all. Finally in order to have correct format you have to add currency symbol to your formatting expression. You could do it in this way [html] \u0026#x3C;apex:outputText value=\"{!'{0, number,’ + quote.CurrencySymbol + ‘###,###,##0.00}’}\"\u003e \u0026#x3C;apex:param value=\"{!qli.TotalPrice}\" /\u003e \u0026#x3C;/apex:outputText\u003e [/html] Or like that [html] \u0026#x3C;apex:outputText value=\"{!quote.CurrencySymbol + ‘{0,number, ###,###,###.00}’}\"\u003e \u0026#x3C;apex:param value=\"{!qli.TotalPrice}\" /\u003e \u0026#x3C;/apex:outputText\u003e [/html] and result will be following with correct currency symbol which you have to define via apex controller \u003ca href=\"https://www.pavelslepenkov.info/wp-content/uploads/2018/11/Screen-Shot-2018-11-13-at-4.24.25-PM.png\"\u003e\u003cimg src=\"https://www.pavelslepenkov.info/wp-content/uploads/2018/11/Screen-Shot-2018-11-13-at-4.24.25-PM-1024x462.png\" alt=\"\"\u003e\u003c/a\u003e\u003c/p\u003e\n","title":"Multi-Currency on Visualforce pages","date":"2018-11-13T16:25:33+00:00","status":"publish","permalink":"/?p=927","author":"pavel","excerpt":"","type":"post","category":["Uncategorized"],"tag":[],"post_format":[]}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"p927"},"buildId":"rYbvkPmFN3Xx8F6mIw6zv","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-11c8eba6a84e3fddec04.js"></script><script src="/_next/static/chunks/main-a7c970f167496c3f3d8f.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.2113c6061a2f456066a1.js" async=""></script><script src="/_next/static/chunks/commons.0cd3f0b406132b99fef1.js" async=""></script><script src="/_next/static/chunks/pages/_app-63f54fbe8fbe4d14dff9.js" async=""></script><script src="/_next/static/chunks/7989c093b81d86ddb0abfb342d5bc2e84730435d.c6af214380aa78d8cb3e.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-4c37b983192d656c52ce.js" async=""></script><script src="/_next/static/rYbvkPmFN3Xx8F6mIw6zv/_buildManifest.js" async=""></script><script src="/_next/static/rYbvkPmFN3Xx8F6mIw6zv/_ssgManifest.js" async=""></script></body></html>